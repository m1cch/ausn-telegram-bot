# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ Python 3.13

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:

```
AttributeError: 'Updater' object has no attribute '_Updater__polling_cleanup_cb'
```

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ **Python 3.13** —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π `python-telegram-bot`.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Python 3.11 (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

Python 3.13 —Å–ª–∏—à–∫–æ–º –Ω–æ–≤—ã–π –∏ –∏–º–µ–µ—Ç breaking changes –≤ —Ä–∞–±–æ—Ç–µ —Å `__slots__`.

**–ù–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ/–∫–æ–º–ø—å—é—Ç–µ—Ä–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é
python3 --version

# –ï—Å–ª–∏ Python 3.13, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.11
# Ubuntu/Debian:
sudo apt update
sudo apt install python3.11 python3.11-venv python3.11-pip

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å Python 3.11
python3.11 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python bot.py
```

**–ù–∞ macOS:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.11 —á–µ—Ä–µ–∑ Homebrew
brew install python@3.11

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3.11 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python bot.py
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–±–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É (—É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)

–Ø –æ–±–Ω–æ–≤–∏–ª `requirements.txt` –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏:

```txt
python-telegram-bot==21.10
python-dotenv==1.0.1
```

**–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

```bash
cd "/home/m1cch/ausn-telegram-bot"

# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏
pip uninstall -y python-telegram-bot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–µ
pip install --upgrade -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python bot.py
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pyenv –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏ Python

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pyenv
curl https://pyenv.run | bash

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.11
pyenv install 3.11.9

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
cd "/home/m1cch/ausn-telegram-bot"
pyenv local 3.11.9

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python bot.py
```

---

## üêõ –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

Python 3.13 –∏–∑–º–µ–Ω–∏–ª –ø–æ–≤–µ–¥–µ–Ω–∏–µ `__slots__` –∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∫–ª–∞—Å—Å–∞:
- –í Python 3.13 –ø–æ—è–≤–∏–ª–∏—Å—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è `__slots__`
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `python-telegram-bot` v20.7 –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å —ç—Ç–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –í –≤–µ—Ä—Å–∏–∏ 21.x —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

---

## ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:

```bash
cd /home/m1cch/ausn-telegram-bot

# –û–±–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É
pip install --upgrade python-telegram-bot==21.10

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python bot.py
```

–ï—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–æ–º–æ–∂–µ—Ç:

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Python 3.11
python3.11 -m venv venv_new
source venv_new/bin/activate
pip install -r requirements.txt
python bot.py
```

---

## üìã –î–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º —Ö–æ—Å—Ç–∏–Ω–≥–∞:

### Render:
- `runtime.txt` —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ—Ç `python-3.11.9`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é ‚úÖ

### Railway:
- –î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
  ```
  RAILWAY_RUNTIME_VERSION=3.11
  ```

### Replit:
- –í `.replit` –∏–∑–º–µ–Ω–∏—Ç–µ:
  ```
  [nix]
  channel = "stable-23_11"
  ```

### Fly.io:
- –í `fly.toml` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
  ```toml
  [build]
    builder = "paketobuildpacks/builder:base"
  [build.env]
    BP_CPYTHON_VERSION = "3.11.*"
  ```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Python
python --version

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é python-telegram-bot
pip show python-telegram-bot

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# Python: 3.11.x –∏–ª–∏ 3.12.x
# python-telegram-bot: 21.10
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Python 3.11** - —ç—Ç–æ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è, —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è —Å–æ –≤—Å–µ–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏.

Python 3.13 –≤—ã—à–µ–ª –Ω–µ–¥–∞–≤–Ω–æ (–æ–∫—Ç—è–±—Ä—å 2024) –∏ –º–Ω–æ–≥–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –µ—â–µ –Ω–µ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å.

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–æ—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫! üéâ

